{"version":3,"sources":["features/transactions/TransactionForm.tsx"],"names":["formItemProps","marginTop","TransactionForm","currency","useSelector","selectCurrency","dispatch","useDispatch","useState","name","setName","amount","setAmount","dueDayNumber","setDueDayNumber","isDistributedDaily","setIsDistributedDaily","type","setType","marginBottom","onSubmit","event","preventDefault","roundedAmount","toFixed","addTransaction","Math","abs","as","display","size","isRequired","onChange","target","value","placeholder","symbol","flex","marginRight","max","Number","MAX_SAFE_INTEGER","min","whiteSpace","isDisabled","nextDayNumber","isNaN","range","map","dayNumber","key","isChecked","checked","variantColor","variant"],"mappings":"0UA2BMA,EAAgB,CACpBC,UAAW,CAAC,OAAQ,OAAQ,SAGjBC,EAAyC,WACpD,IAAMC,EAAWC,YAAYC,KACvBC,EAAWC,cAFyC,EAIlCC,mBAdL,IAUuC,mBAInDC,EAJmD,KAI7CC,EAJ6C,OAK9BF,mBAdP,IASqC,mBAKnDG,EALmD,KAK3CC,EAL2C,OAMlBJ,mBAdX,GAQ6B,mBAMnDK,EANmD,KAMrCC,EANqC,OAONN,oBAdjB,GAOuB,mBAOnDO,EAPmD,KAO/BC,EAP+B,OAQlCR,mBAdgB,YAMkB,mBAQnDS,EARmD,KAQ7CC,EAR6C,KAU1D,OACE,kBAAC,IAAD,CAAKC,aAAc,CAAC,OAAQ,OAAQ,IAClC,0BACEC,SAAU,SAACC,GACTA,EAAMC,iBAEN,IAAMC,GAAiBZ,EAAOa,QAAQ,GAEtClB,EACEmB,YAAe,CACbd,OAAiB,aAATM,EAAsBM,GAAiBG,KAAKC,IAAIJ,GACxDV,aAAcE,EAAqB,KAAOF,EAC1CE,qBACAN,OACAQ,UAIJL,EArCa,IAsCbE,EArCqB,GAsCrBE,GArC2B,GAsC3BN,EAzCW,IA0CXQ,EAtCgC,cAyClC,kBAAC,IAAD,CAASU,GAAG,KAAKC,QAAS,CAAC,OAAQ,OAAQ,SAAUC,KAAK,MAA1D,mBAGA,kBAAC,IAAgB9B,EACf,kBAAC,IAAD,cACA,kBAAC,IAAD,CACE+B,YAAU,EAEVC,SAAU,YAAuB,IAApBC,EAAmB,EAAnBA,OACXvB,EAAQuB,EAAOC,QAEjBC,YAAY,0BACZlB,KAAK,OACLiB,MAAOzB,KAGX,kBAAC,IAAgBT,EACf,kBAAC,IAAD,cACA,kBAAC,IAAD,CACEgC,SAAU,YAAuB,IAApBC,EAAmB,EAAnBA,OACXf,EAAQe,EAAOC,QAEjBA,MAAOjB,GAEP,4BAAQiB,MAAO,YAAf,YACA,4BAAQA,MAAO,YAAf,cAGJ,kBAAC,IAAgBlC,EACf,kBAAC,IAAD,kBAAsBG,EAASiC,OAA/B,KACA,kBAAC,IAAD,CAAKP,QAAQ,QACX,kBAAC,IAAD,CACEQ,KAAM,EACNC,YAAY,OACZC,IAAKC,OAAOC,iBACZC,IAAK,IAELV,SAAU,SAACrB,GACTC,EAAUD,IAEZuB,MAAOvB,GAEP,kBAAC,IAAD,OAEF,kBAAC,IAAD,CAAgBgC,WAAW,UAA3B,iBAGJ,kBAAC,IAAgB3C,EACf,kBAAC,IAAD,oBACA,kBAAC,IAAD,CACE4C,WAAY7B,EACZiB,SAAU,YAAuB,IACzBa,GADwB,EAAnBZ,OAC6DC,MAEpEY,MAAMD,IAIV/B,EAAgB+B,IAElBX,MAAOrB,GAENkC,YAAM,EAAG,IAAIC,KAAI,SAAAC,GAAS,OACzB,4BAAQC,IAAKD,EAAWf,MAAOe,GAC5BA,QAKT,kBAAC,IAAD,eAAapB,QAAQ,QAAW7B,GAC9B,kBAAC,IAAD,qCACA,kBAAC,IAAD,CACEmD,UAAWpC,EACXiB,SAAU,YAAuB,IAApBC,EAAmB,EAAnBA,OACXjB,EAAsBiB,EAAOmB,UAE/BC,aAAa,iBAGjB,kBAAC,IAAD,eAAQpC,KAAK,SAASqC,QAAQ,UAAUD,aAAa,eAAkBrD,GAAvE","file":"static/js/4.9b907a69.chunk.js","sourcesContent":["import React, { FunctionComponent, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { range } from 'ramda';\nimport {\n  Box,\n  Button,\n  Checkbox,\n  FormControl,\n  FormHelperText,\n  FormLabel,\n  Heading,\n  Input,\n  NumberInput,\n  NumberInputField,\n  Select,\n} from '@chakra-ui/core';\n\nimport { addTransaction, selectCurrency } from './transactionsSlice';\n\nimport { Transaction } from './types';\n\nconst DEFAULT_NAME = '';\nconst DEFAULT_AMOUNT = 10;\nconst DEFAULT_DUE_DAY_NUMBER = 1;\nconst DEFAULT_IS_DISTRIBUTED_DAILY = false;\nconst DEFAULT_TYPE: Transaction['type'] = 'outgoing';\n\nconst formItemProps = {\n  marginTop: ['1rem', '1rem', '2rem'],\n};\n\nexport const TransactionForm: FunctionComponent<{}> = () => {\n  const currency = useSelector(selectCurrency);\n  const dispatch = useDispatch();\n\n  const [name, setName] = useState(DEFAULT_NAME);\n  const [amount, setAmount] = useState(DEFAULT_AMOUNT);\n  const [dueDayNumber, setDueDayNumber] = useState(DEFAULT_DUE_DAY_NUMBER);\n  const [isDistributedDaily, setIsDistributedDaily] = useState(DEFAULT_IS_DISTRIBUTED_DAILY);\n  const [type, setType] = useState<Transaction['type']>(DEFAULT_TYPE);\n\n  return (\n    <Box marginBottom={['2rem', '2rem', 0]}>\n      <form\n        onSubmit={(event): void => {\n          event.preventDefault();\n\n          const roundedAmount = +amount.toFixed(2);\n\n          dispatch(\n            addTransaction({\n              amount: type === 'incoming' ? roundedAmount : -Math.abs(roundedAmount),\n              dueDayNumber: isDistributedDaily ? null : dueDayNumber,\n              isDistributedDaily,\n              name,\n              type,\n            }),\n          );\n\n          setAmount(DEFAULT_AMOUNT);\n          setDueDayNumber(DEFAULT_DUE_DAY_NUMBER);\n          setIsDistributedDaily(DEFAULT_IS_DISTRIBUTED_DAILY);\n          setName(DEFAULT_NAME);\n          setType(DEFAULT_TYPE);\n        }}\n      >\n        <Heading as='h3' display={['none', 'none', 'block']} size='md'>\n          Add transaction\n        </Heading>\n        <FormControl {...formItemProps}>\n          <FormLabel>Name:</FormLabel>\n          <Input\n            isRequired\n            // @ts-ignore\n            onChange={({ target }): void => {\n              setName(target.value);\n            }}\n            placeholder='e.g. \"Electricity Bill\"'\n            type='text'\n            value={name}\n          />\n        </FormControl>\n        <FormControl {...formItemProps}>\n          <FormLabel>Type:</FormLabel>\n          <Select\n            onChange={({ target }): void => {\n              setType(target.value as Transaction['type']);\n            }}\n            value={type}\n          >\n            <option value={'incoming'}>Incoming</option>\n            <option value={'outgoing'}>Outgoing</option>\n          </Select>\n        </FormControl>\n        <FormControl {...formItemProps}>\n          <FormLabel>Amount in {currency.symbol}:</FormLabel>\n          <Box display='flex'>\n            <NumberInput\n              flex={1}\n              marginRight='2rem'\n              max={Number.MAX_SAFE_INTEGER}\n              min={0.01}\n              // @ts-ignore\n              onChange={(amount: number): void => {\n                setAmount(amount);\n              }}\n              value={amount}\n            >\n              <NumberInputField />\n            </NumberInput>\n            <FormHelperText whiteSpace='nowrap'>e.g. 119.99</FormHelperText>\n          </Box>\n        </FormControl>\n        <FormControl {...formItemProps}>\n          <FormLabel>Due on day:</FormLabel>\n          <Select\n            isDisabled={isDistributedDaily}\n            onChange={({ target }): void => {\n              const nextDayNumber: NonNullable<Transaction['dueDayNumber']> = +target.value;\n\n              if (isNaN(nextDayNumber)) {\n                return;\n              }\n\n              setDueDayNumber(nextDayNumber);\n            }}\n            value={dueDayNumber}\n          >\n            {range(1, 32).map(dayNumber => (\n              <option key={dayNumber} value={dayNumber}>\n                {dayNumber}\n              </option>\n            ))}\n          </Select>\n        </FormControl>\n        <FormControl display='flex' {...formItemProps}>\n          <FormLabel>Distribute over whole month:</FormLabel>\n          <Checkbox\n            isChecked={isDistributedDaily}\n            onChange={({ target }): void => {\n              setIsDistributedDaily(target.checked);\n            }}\n            variantColor='tealVariant'\n          />\n        </FormControl>\n        <Button type='submit' variant='outline' variantColor='tealVariant' {...formItemProps}>\n          Add\n        </Button>\n      </form>\n    </Box>\n  );\n};\n"],"sourceRoot":""}